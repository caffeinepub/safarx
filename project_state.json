{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 17,
  "summary": "Travel agency website for SafarX.in showcasing attractive and viable travel locations across India.",
  "architectural_notes": [
    "Project is a travel agency website under the brand/domain SafarX.in",
    "Focus on Indian travel destinations — content should cover diverse regions of India",
    "Contact details: email=travelsafarx@gmail.com, Instagram=SafarX.in, phone=8979695644",
    "Community login should support Google OAuth / Gmail-based sign-in (Google Sign-In integration requested)"
  ],
  "known_issues": [
    "Admin dashboard: enquiries fail to load",
    "Admin dashboard: community stats (total members, usernames/display names list, total posts) not displaying correctly"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-visually-rich-homepage-with-a-full-screen-hero-section-featuring-a-compelling-headline-about-exploring-india-a-prominent-call-to-action-button-and-curated-highlight-cards-of-top-india-travel-destinations",
      "title": "Create a visually rich homepage with a full-screen hero section featuring a compelling headline about exploring India, a prominent call-to-action button, and curated highlight cards of top India travel destinations.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-destinations-listing-page-that-showcases-all-viable-and-attractive-travel-locations-across-india-organized-by-region-north-south-east-west-northeast-each-destination-card-must-display-the-destination-name-a-short-description-and-a-representative-image",
      "title": "Build a Destinations listing page that showcases all viable and attractive travel locations across India, organized by region (North, South, East, West, Northeast). Each destination card must display the destination name, a short description, and a representative image.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-individual-destination-detail-pages-or-modal-panels-for-each-destination-displaying-a-full-description-key-travel-info-best-time-to-visit-how-to-reach-highlights-and-a-gallery-of-photos",
      "title": "Implement individual destination detail pages or modal panels for each destination, displaying a full description, key travel info (best time to visit, how to reach, highlights), and a gallery of photos.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-site-wide-navigation-header-with-the-safarx-in-brand-logo-and-name-links-to-home-destinations-and-contact-sections-and-a-mobile-responsive-hamburger-menu",
      "title": "Add a site-wide navigation header with the SafarX.in brand logo and name, links to Home, Destinations, and Contact sections, and a mobile-responsive hamburger menu.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-contact-and-inquiry-section-where-users-can-submit-their-name-email-travel-interest-destination-and-message-to-inquire-about-travel-packages-store-submissions-in-the-backend",
      "title": "Create a Contact and Inquiry section where users can submit their name, email, travel interest (destination), and message to inquire about travel packages. Store submissions in the backend.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-warm-earthy-and-vibrant-visual-theme-inspired-by-indian-travel-culture-using-saffron-terracotta-deep-teal-and-ivory-tones-with-bold-serif-or-display-typography-for-headings-and-clean-sans-serif-for-body-text-the-layout-should-feel-magazine-editorial-with-immersive-full-bleed-imagery-sections-and-consistent-card-styles",
      "title": "Apply a warm, earthy and vibrant visual theme inspired by Indian travel culture using saffron, terracotta, deep teal, and ivory tones with bold serif or display typography for headings and clean sans-serif for body text. The layout should feel magazine-editorial with immersive full-bleed imagery sections and consistent card styles.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-update-all-contact-details-displayed-across-the-site-including-the-contact-page-and-the-footer-to-use-the-following-information-email-travelsafarx-gmail-com-instagram-handle-safarx-in-phone-number-8979695644",
      "title": "Update all contact details displayed across the site — including the Contact page and the Footer — to use the following information: email: travelsafarx@gmail.com, Instagram handle: SafarX.in, phone number: 8979695644.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-ai-travel-itinerary-planner-section-on-the-homepage-and-as-a-dedicated-page-route-accessible-from-the-navigation-users-fill-a-short-form-destination-trip-duration-in-days-travel-style-adventure-relaxation-cultural-budget-group-type-solo-couple-family-friends-and-on-submission-the-frontend-generates-a-detailed-day-by-day-itinerary-client-side-using-predefined-destination-data-and-rule-based-logic-no-external-ai-api-the-itinerary-output-should-be-displayed-in-a-visually-rich-card-timeline-layout-styled-consistently-with-the-safarx-in-warm-earthy-theme-include-a-plan-my-trip-cta-button-in-the-header-that-scrolls-to-or-navigates-to-this-section",
      "title": "Add an 'AI Travel Itinerary Planner' section on the homepage (and as a dedicated page/route accessible from the navigation). Users fill a short form (destination, trip duration in days, travel style: Adventure / Relaxation / Cultural / Budget, group type: Solo / Couple / Family / Friends) and on submission, the frontend generates a detailed day-by-day itinerary client-side using predefined destination data and rule-based logic (no external AI API). The itinerary output should be displayed in a visually rich card/timeline layout styled consistently with the SafarX.in warm-earthy theme. Include a 'Plan My Trip' CTA button in the header that scrolls to or navigates to this section.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-static-destinations-data-in-frontend-src-data-destinations-ts-by-adding-at-least-10-new-hilly-and-gen-z-favourite-destinations-across-india-these-should-include-popular-hill-stations-and-trending-youth-travel-spots-such-as-kasol-chopta-tirthan-valley-ziro-valley-dzukou-valley-kheerganga-dalhousie-lansdowne-munsiyari-and-coorg-each-new-destination-must-include-name-region-state-short-description-full-description-best-time-to-visit-how-to-reach-highlights-array-and-a-representative-unsplash-image-url-tag-gen-z-and-hilly-destinations-with-appropriate-tags-e-g-hill-station-gen-z-favourite-offbeat-so-they-can-be-filtered-on-the-destinations-page",
      "title": "Expand the static destinations data in `frontend/src/data/destinations.ts` by adding at least 10 new hilly and Gen-Z favourite destinations across India. These should include popular hill stations and trending youth travel spots such as Kasol, Chopta, Tirthan Valley, Ziro Valley, Dzukou Valley, Kheerganga, Dalhousie, Lansdowne, Munsiyari, and Coorg. Each new destination must include name, region, state, short description, full description, best time to visit, how to reach, highlights array, and a representative Unsplash image URL. Tag Gen-Z and hilly destinations with appropriate tags (e.g., 'Hill Station', 'Gen-Z Favourite', 'Offbeat') so they can be filtered on the Destinations page.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-travel-packages-section-to-the-site-accessible-as-a-new-route-packages-and-linked-in-the-navigation-header-display-at-least-8-curated-travel-packages-e-g-himalayan-adventure-7d-6n-rajasthan-heritage-trail-5d-4n-kerala-backwaters-4d-3n-northeast-explorer-8d-7n-goa-beach-escape-3d-2n-spiti-valley-expedition-9d-8n-coorg-wayanad-green-retreat-5d-4n-andaman-island-hopper-6d-5n-each-package-card-must-show-the-package-name-duration-included-destinations-price-range-highlights-and-an-enquire-button-that-pre-fills-the-contact-form-with-the-package-name-as-the-travel-interest-style-all-package-cards-consistently-with-the-existing-warm-earthy-theme",
      "title": "Add a 'Travel Packages' section to the site — accessible as a new route '/packages' and linked in the navigation header. Display at least 8 curated travel packages (e.g., 'Himalayan Adventure 7D/6N', 'Rajasthan Heritage Trail 5D/4N', 'Kerala Backwaters 4D/3N', 'Northeast Explorer 8D/7N', 'Goa Beach Escape 3D/2N', 'Spiti Valley Expedition 9D/8N', 'Coorg & Wayanad Green Retreat 5D/4N', 'Andaman Island Hopper 6D/5N'). Each package card must show the package name, duration, included destinations, price range, highlights, and an enquire button that pre-fills the Contact form with the package name as the travel interest. Style all package cards consistently with the existing warm-earthy theme.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-frontend-route-admin-with-an-admin-dashboard-page-the-page-must-display-all-submitted-traveller-enquiries-in-a-structured-table-or-card-list-each-entry-must-show-the-traveller-s-name-email-destination-travel-interest-message-and-submission-date-include-a-delete-button-per-entry-to-remove-it-from-the-backend-add-a-navigation-link-to-the-admin-dashboard-in-the-site-header-desktop-and-mobile-styled-consistently-with-the-existing-warm-earthy-safarx-in-theme",
      "title": "Create a new frontend route `/admin` with an Admin Dashboard page. The page must display all submitted traveller enquiries in a structured table or card list. Each entry must show the traveller's name, email, destination/travel interest, message, and submission date. Include a 'Delete' button per entry to remove it from the backend. Add a navigation link to the Admin Dashboard in the site header (desktop and mobile), styled consistently with the existing warm-earthy SafarX.in theme.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-frontend-admin-login-route-with-a-login-page-the-page-must-show-a-username-and-password-form-on-successful-login-validated-against-the-backend-loginadmin-function-store-a-session-flag-in-localstorage-sessionstorage-and-redirect-to-admin-if-no-admin-is-registered-yet-checked-via-isadminregistered-show-a-register-as-admin-toggle-tab-with-a-registration-form-username-password-confirm-password-that-calls-registeradmin-style-the-page-consistently-with-the-warm-earthy-safarx-in-theme",
      "title": "Create a frontend `/admin/login` route with a Login page. The page must show a username and password form. On successful login (validated against the backend `loginAdmin` function), store a session flag in localStorage/sessionStorage and redirect to `/admin`. If no admin is registered yet (checked via `isAdminRegistered`), show a 'Register as Admin' toggle/tab with a registration form (username + password + confirm password) that calls `registerAdmin`. Style the page consistently with the warm-earthy SafarX.in theme.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-protect-the-admin-route-on-the-frontend-if-the-session-flag-is-not-present-in-localstorage-sessionstorage-redirect-the-user-to-admin-login-add-a-logout-button-in-the-admin-dashboard-that-clears-the-session-flag-and-redirects-to-admin-login",
      "title": "Protect the `/admin` route on the frontend: if the session flag is not present in localStorage/sessionStorage, redirect the user to `/admin/login`. Add a 'Logout' button in the Admin Dashboard that clears the session flag and redirects to `/admin/login`.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-contact-form-frontend-src-pages-contact-tsx-to-include-a-phone-number-input-field-submit-the-phone-value-to-the-backend-as-part-of-the-inquiry-submission-update-usequeries-ts-submit-mutation-to-pass-the-phone-parameter-to-the-backend-submitinquiry-call",
      "title": "Update the Contact form (`frontend/src/pages/Contact.tsx`) to include a 'Phone Number' input field. Submit the phone value to the backend as part of the inquiry submission. Update `useQueries.ts` submit mutation to pass the phone parameter to the backend `submitInquiry` call.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-dashboard-page-frontend-src-pages-admin-tsx-to-display-a-phone-column-field-for-each-inquiry-entry-alongside-the-existing-name-email-destination-message-and-timestamp-fields",
      "title": "Update the Admin Dashboard page (`frontend/src/pages/Admin.tsx`) to display a 'Phone' column/field for each inquiry entry alongside the existing name, email, destination, message, and timestamp fields.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-react-query-hooks-file-or-extend-frontend-src-hooks-usequeries-ts-with-community-specific-hooks-useregisteruser-useloginuser-usecommunityposts-fetches-getallposts-usecreatepost-usedeletepost-and-uselikepost-store-the-logged-in-community-user-s-session-userid-displayname-in-localstorage-under-the-key-safarx-community-user-as-a-json-string-provide-a-usecommunityuser-hook-that-reads-and-parses-this-value-to-expose-the-current-user-state-across-the-app",
      "title": "Add a React Query hooks file or extend `frontend/src/hooks/useQueries.ts` with community-specific hooks: `useRegisterUser`, `useLoginUser`, `useCommunityPosts` (fetches getAllPosts), `useCreatePost`, `useDeletePost`, and `useLikePost`. Store the logged-in community user's session (userId, displayName) in localStorage under the key `safarx_community_user` as a JSON string. Provide a `useCommunityUser` hook that reads and parses this value to expose the current user state across the app.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-frontend-route-community-and-a-community-tsx-page-add-a-community-navigation-link-in-both-header-tsx-and-headerwithadmin-tsx-alongside-the-existing-nav-links-home-destinations-packages-plan-trip-contact-admin-register-the-community-route-in-app-tsx-the-community-page-must-have-two-main-views-controlled-by-a-top-tab-bar-1-feed-shows-all-community-posts-2-my-profile-shows-the-logged-in-user-s-posts-and-profile-info-or-a-prompt-to-log-in-if-not-authenticated",
      "title": "Create a new frontend route `/community` and a `Community.tsx` page. Add a 'Community' navigation link in both `Header.tsx` and `HeaderWithAdmin.tsx` alongside the existing nav links (Home, Destinations, Packages, Plan Trip, Contact, Admin). Register the `/community` route in `App.tsx`. The Community page must have two main views controlled by a top tab bar: (1) 'Feed' — shows all community posts, (2) 'My Profile' — shows the logged-in user's posts and profile info, or a prompt to log in if not authenticated.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-community-auth-modal-or-inline-panel-on-the-community-page-that-handles-user-registration-and-login-it-must-show-a-toggle-between-login-and-register-forms-the-register-form-must-collect-displayname-username-and-password-with-confirm-password-validation-the-login-form-must-collect-username-and-password-on-successful-login-or-registration-store-the-session-in-localstorage-via-usecommunityuser-and-dismiss-the-modal-style-the-modal-panel-consistently-with-the-safarx-in-warm-earthy-theme-saffron-terracotta-ivory-tones-playfair-display-headings",
      "title": "Build a Community Auth modal (or inline panel) on the Community page that handles user registration and login. It must show a toggle between 'Login' and 'Register' forms. The Register form must collect displayName, username, and password (with confirm password validation). The Login form must collect username and password. On successful login or registration, store the session in localStorage via `useCommunityUser` and dismiss the modal. Style the modal/panel consistently with the SafarX.in warm-earthy theme (saffron, terracotta, ivory tones, Playfair Display headings).",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-community-feed-view-on-the-community-page-display-all-posts-fetched-from-getallposts-as-vertically-stacked-cards-each-post-card-must-show-author-display-name-post-title-body-text-truncated-to-3-lines-with-a-read-more-expand-toggle-an-optional-image-rendered-from-the-imageurl-if-provided-destination-tag-badge-if-present-posted-timestamp-formatted-as-relative-time-e-g-2-days-ago-and-a-like-button-showing-the-current-like-count-if-the-logged-in-user-is-the-post-author-show-a-delete-button-on-their-card-at-the-top-of-the-feed-if-a-user-is-logged-in-show-a-share-your-story-button-that-opens-the-post-creation-form-modal-if-not-logged-in-show-a-prompt-to-log-in-to-share-stories",
      "title": "Build the Community Feed view on the Community page. Display all posts fetched from `getAllPosts` as vertically stacked cards. Each post card must show: author display name, post title, body text (truncated to ~3 lines with a 'Read more' expand toggle), an optional image (rendered from the imageUrl if provided), destination tag badge (if present), posted timestamp (formatted as relative time e.g. '2 days ago'), and a Like button showing the current like count. If the logged-in user is the post author, show a Delete button on their card. At the top of the Feed, if a user is logged in, show a 'Share Your Story' button that opens the post creation form/modal. If not logged in, show a prompt to log in to share stories.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-create-post-form-modal-that-opens-when-the-logged-in-user-clicks-share-your-story-the-form-must-include-title-text-input-required-story-blog-body-textarea-required-supports-multi-paragraph-text-image-url-text-input-optional-for-linking-a-travel-photo-and-destination-tag-text-input-optional-on-submit-call-createpost-with-the-logged-in-userid-on-success-close-the-modal-form-show-a-success-toast-or-inline-message-and-refresh-the-feed-style-the-form-consistently-with-the-warm-earthy-safarx-in-theme",
      "title": "Build a Create Post form/modal that opens when the logged-in user clicks 'Share Your Story'. The form must include: Title (text input, required), Story / Blog Body (textarea, required, supports multi-paragraph text), Image URL (text input, optional — for linking a travel photo), and Destination Tag (text input, optional). On submit, call `createPost` with the logged-in userId. On success, close the modal/form, show a success toast or inline message, and refresh the Feed. Style the form consistently with the warm-earthy SafarX.in theme.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-my-profile-view-on-the-community-page-visible-only-when-logged-in-it-must-display-the-user-s-displayname-username-member-since-date-and-a-list-of-all-their-posts-fetched-via-getpostsbyuser-each-post-in-the-profile-list-must-show-title-truncated-body-and-a-delete-button-include-a-prominent-logout-button-that-clears-safarx-community-user-from-localstorage-style-consistently-with-the-warm-earthy-safarx-in-theme",
      "title": "Build the My Profile view on the Community page (visible only when logged in). It must display the user's displayName, username, member-since date, and a list of all their posts fetched via `getPostsByUser`. Each post in the profile list must show title, truncated body, and a Delete button. Include a prominent 'Logout' button that clears `safarx_community_user` from localStorage. Style consistently with the warm-earthy SafarX.in theme.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-community-page-frontend-src-pages-community-tsx-and-in-the-community-auth-modal-frontend-src-components-communityauthmodal-tsx-replace-or-supplement-the-existing-username-password-login-and-registration-forms-with-a-sign-in-with-google-button-that-uses-the-browser-s-google-identity-services-gsi-google-accounts-id-initialize-google-accounts-id-prompt-flow-no-external-oauth-redirect-on-successful-google-sign-in-extract-the-user-s-gmail-address-and-display-name-from-the-decoded-jwt-credential-if-the-gmail-address-matches-an-existing-community-user-looked-up-by-username-gmail-address-log-them-in-and-store-their-session-if-no-account-exists-for-that-gmail-auto-register-a-new-community-user-with-username-gmail-address-and-displayname-google-account-name-then-store-the-session-in-both-cases-persist-the-session-to-localstorage-under-safarx-community-user-same-format-as-existing-userid-displayname-and-dismiss-the-modal-show-the-gmail-address-as-a-read-only-identifier-on-the-my-profile-view-instead-of-the-plain-username",
      "title": "On the Community page (`frontend/src/pages/Community.tsx`) and in the Community Auth modal (`frontend/src/components/CommunityAuthModal.tsx`), replace or supplement the existing username/password login and registration forms with a 'Sign in with Google' button that uses the browser's Google Identity Services (GSI) `google.accounts.id.initialize` / `google.accounts.id.prompt` flow (no external OAuth redirect). On successful Google sign-in, extract the user's Gmail address and display name from the decoded JWT credential. If the Gmail address matches an existing community user (looked up by username = Gmail address), log them in and store their session. If no account exists for that Gmail, auto-register a new community user with username = Gmail address and displayName = Google account name, then store the session. In both cases, persist the session to localStorage under `safarx_community_user` (same format as existing: `{userId, displayName}`) and dismiss the modal. Show the Gmail address as a read-only identifier on the My Profile view instead of the plain username.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-load-the-google-identity-services-gsi-library-by-adding-script-src-https-accounts-google-com-gsi-client-async-defer-script-to-frontend-index-html-declare-a-vite-google-client-id-environment-variable-to-be-set-by-the-developer-in-env-and-expose-it-to-the-react-app-use-this-client-id-when-initialising-google-accounts-id-initialize-in-the-community-auth-modal-component-add-a-typescript-declaration-file-frontend-src-types-google-gsi-d-ts-that-types-the-window-google-accounts-id-api-surface-minimally-initialize-prompt-renderbutton-credential-response-so-typescript-does-not-error",
      "title": "Load the Google Identity Services (GSI) library by adding `<script src=\"https://accounts.google.com/gsi/client\" async defer></script>` to `frontend/index.html`. Declare a `VITE_GOOGLE_CLIENT_ID` environment variable (to be set by the developer in `.env`) and expose it to the React app. Use this client ID when initialising `google.accounts.id.initialize` in the Community Auth modal component. Add a TypeScript declaration file (`frontend/src/types/google-gsi.d.ts`) that types the `window.google.accounts.id` API surface minimally (initialize, prompt, renderButton, credential response) so TypeScript does not error.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-debug-and-fix-the-admin-dashboard-enquiries-fetch-in-frontend-src-pages-admin-tsx-and-frontend-src-hooks-usequeries-ts-inspect-the-backend-actor-call-used-to-retrieve-all-inquiries-e-g-getallinquiries-or-equivalent-ensure-the-correct-method-name-is-being-called-on-the-actor-that-the-actor-hook-is-resolving-properly-before-the-query-fires-use-enabled-actor-guard-in-react-query-and-that-the-returned-data-shape-is-correctly-mapped-to-the-card-table-display-if-the-backend-method-name-or-return-type-has-drifted-align-the-frontend-call-to-match-the-actual-exported-function-in-backend-main-mo",
      "title": "Debug and fix the admin dashboard enquiries fetch in `frontend/src/pages/Admin.tsx` and `frontend/src/hooks/useQueries.ts`. Inspect the backend actor call used to retrieve all inquiries (e.g. `getAllInquiries` or equivalent), ensure the correct method name is being called on the actor, that the actor hook is resolving properly before the query fires (use `enabled: !!actor` guard in React Query), and that the returned data shape is correctly mapped to the card/table display. If the backend method name or return type has drifted, align the frontend call to match the actual exported function in `backend/main.mo`.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-in-frontend-src-hooks-usequeries-ts-for-the-new-community-stats-backend-calls-usecommunitystats-calls-getcommunitystats-and-usecommunityuserlist-calls-getallcommunityusers-both-hooks-must-use-the-actor-from-useactor-and-include-an-enabled-actor-guard",
      "title": "Add React Query hooks in `frontend/src/hooks/useQueries.ts` for the new community stats backend calls: `useCommunityStats` (calls `getCommunityStats`) and `useCommunityUserList` (calls `getAllCommunityUsers`). Both hooks must use the actor from `useActor` and include an `enabled: !!actor` guard.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-dashboard-page-frontend-src-pages-admin-tsx-to-display-a-community-stats-section-below-the-enquiries-list-this-section-must-show-1-total-registered-community-members-number-2-total-community-posts-number-and-3-a-scrollable-table-or-card-list-of-all-registered-community-users-showing-their-display-name-and-username-side-by-side-use-the-usecommunitystats-and-usecommunityuserlist-hooks-show-loading-skeletons-while-fetching-and-friendly-error-messages-on-failure-style-the-section-consistently-with-the-existing-warm-earthy-safarx-in-theme-saffron-terracotta-headings-ivory-card-backgrounds",
      "title": "Update the Admin Dashboard page `frontend/src/pages/Admin.tsx` to display a 'Community Stats' section below the enquiries list. This section must show: (1) Total registered community members (number), (2) Total community posts (number), and (3) A scrollable table or card list of all registered community users showing their display name and username side by side. Use the `useCommunityStats` and `useCommunityUserList` hooks. Show loading skeletons while fetching and friendly error messages on failure. Style the section consistently with the existing warm-earthy SafarX.in theme (saffron/terracotta headings, ivory card backgrounds).",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Homepage with hero section and highlights of top India travel destinations",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Destinations listing page showcasing all viable and attractive locations across India",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Individual destination detail pages with descriptions, photos, and travel info",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Navigation menu with branding for SafarX.in",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Contact / inquiry section for travel packages",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Update contact details: email travelsafarx@gmail.com, Instagram SafarX.in, phone 8979695644",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Add AI-powered customised travel itinerary generator section for travellers",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Integrate more travel packages and add hilly/Gen-Z favourite destinations",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Admin panel/dashboard to view and manage all enquiries submitted by travellers",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Add a backend query method `getAllInquiries` (if not already exposed publicly) and a new backend query method `deleteInquiry(id: Nat)` to allow the admin to remove specific enquiries. Ensure the existing `getAll` or equivalent method returns all stored inquiries with full fields (name, email, destination, message, timestamp).",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add password-protected login page for admin with self-registration capability, and add phone number column to the admin enquiries table",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add admin credentials storage to the backend. Implement backend functions: `registerAdmin(username: Text, password: Text) : async {ok: Bool; message: Text}` (allows first-time self-registration; reject if an admin already exists), `loginAdmin(username: Text, password: Text) : async {ok: Bool; token: Text}` (validates credentials and returns a simple session token or success flag), and `isAdminRegistered() : async Bool` (returns whether an admin account exists). Store hashed/plain admin credentials in stable backend state.",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add a `phone` field (Text) to the inquiry data structure in the backend. Update `submitInquiry` to accept phone as an optional or required parameter. Update `listInquiries` / `getAllInquiries` to return the phone field alongside name, email, destination, message, and timestamp.",
      "reqIds": [
        "REQ-14"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Create a Community page tab where users can share travel stories, blogs, posts, and pictures. Each user should have a separate user ID and password for login/registration.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add a Community Users data structure to the backend with stable storage. Each user record must include: userId (Nat, auto-incremented), username (Text), passwordHash (Text), displayName (Text), bio (Text, optional), and joinedAt (Int timestamp). Implement backend functions: `registerUser(username: Text, password: Text, displayName: Text) : async {ok: Bool; message: Text}` (rejects duplicate usernames), `loginUser(username: Text, password: Text) : async {ok: Bool; userId: Nat; displayName: Text; message: Text}` (validates credentials and returns userId + displayName on success), and `getUserProfile(userId: Nat) : async ?{userId: Nat; displayName: Text; bio: Text; joinedAt: Int}` (returns public profile, no password).",
      "reqIds": [
        "REQ-19"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add a Community Posts data structure to the backend with stable storage. Each post record must include: postId (Nat, auto-incremented), authorId (Nat, userId of poster), authorDisplayName (Text), title (Text), body (Text), imageUrl (Text, optional — an external URL string), destination (Text, optional tag), createdAt (Int timestamp), and likes (Nat, default 0). Implement backend functions: `createPost(authorId: Nat, title: Text, body: Text, imageUrl: Text, destination: Text) : async {ok: Bool; postId: Nat}`, `getAllPosts() : async [PostRecord]` (returns all posts sorted newest first), `getPostsByUser(userId: Nat) : async [PostRecord]`, `deletePost(postId: Nat, requesterId: Nat) : async {ok: Bool; message: Text}` (only the post author may delete their own post), and `likePost(postId: Nat) : async {ok: Bool; likes: Nat}`.",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Update `backend/migration.mo` to preserve the new community users and community posts stable state during canister upgrades without data loss. Ensure the migration handles the addition of the new `communityUsers` and `communityPosts` maps alongside existing inquiry and admin credential state.",
      "reqIds": [
        "REQ-27"
      ],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Add Google OAuth / Gmail-based login to the community section, replacing or supplementing username/password auth with Google Sign-In integration.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Add community stats to the admin dashboard: total registered community members, list of usernames/display names, and total community posts count.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Update the backend `registerUser` function in `backend/main.mo` to accept an optional `isGoogleUser` flag (or simply allow registration with an empty-string password for Google-authenticated users, marking them with a special password hash such as `\"GOOGLE_AUTH\"`). When a Google-based login arrives on the frontend and the Gmail address is not yet registered, the frontend calls `registerUser` with username = Gmail address, password = empty string (or a sentinel), and displayName = Google display name. The backend must store this record without rejecting an empty password, and `loginUser` must allow login for accounts marked as Google-auth by checking the sentinel rather than comparing a hashed password.",
      "reqIds": [
        "REQ-30"
      ],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Add backend query functions to `backend/main.mo` to expose community statistics needed by the admin dashboard: (1) `getCommunityStats() : async { totalMembers: Nat; totalPosts: Nat }` — returns the count of all registered community users and all community posts; (2) `getAllCommunityUsers() : async [{ userId: Nat; username: Text; displayName: Text; joinedAt: Int }]` — returns a list of all registered community users (no passwords). These must read from the existing stable `communityUsers` map.",
      "reqIds": [
        "REQ-32"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "SafarX",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}